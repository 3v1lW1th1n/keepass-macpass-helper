<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>KeePassHelper :: Options</title>
    <style>
      body {
        min-width: 500px;
      }
      @media screen and (min--moz-device-pixel-ratio:0) {
        body {
          min-width: unset;
        }
      }
      table {
        width: 100%;
        border-collapse: collapse;
      }
      textarea,
      input[type=text] {
        width: 100%;
        box-sizing: border-box;
      }
      th span{
        background-color: rgba(0, 0, 0, 0.05);
        padding: 5px;
        display: block;
        margin: 10px 0;
      }
      thead:first-of-type th span {
        margin-top: 0;
      }
      td:nth-child(2) {
        text-align: right;
      }
    </style>
  </head>
  <body>
  <table>
    <colgroup>
      <col width="220">
      <col>
    </colgroup>
    <thead>
      <tr>
        <th colspan="2"><span>Connection</span></th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><label><input type="radio" name="method" id="keepass"> KeePassHTTP host</label></td>
        <td><input type="text" id="host"></td>
      </tr>
      <tr>
        <td><label><input type="radio" name="method" id="keepassxc"> Netive Messaging (KeePassXC)<sup>1</sup></label></td>
        <td></td>
      </tr>
    </tbody>
    <thead>
      <tr>
        <th colspan="2"><span>Password generation</span></th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Password generation character set</td>
        <td><input type="text" id="charset"></td>
      </tr>
      <tr>
        <td>Password generation length</td>
        <td><input type="number" id="length"></td>
      </tr>
    </tbody>
    <thead>
      <tr>
        <th colspan="2"><span>AutoFill (for one credential)</span></th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Fill login form and close the panel</td>
        <td><input type="checkbox" id="auto-login"></td>
      </tr>
      <tr>
        <td>Then submit the form</td>
        <td><input type="checkbox" id="auto-submit"></td>
      </tr>
    </tbody>
    <thead>
      <tr>
        <th colspan="2"><span>Auto Login</span></th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td colspan="2">A JSON array to fill login forms automatically without the need to use the panel at all. <a href="#" id=example>Insert an example</a></td>
      </tr>
      <tr>
        <td colspan="2"><textarea rows="4" id="json"></textarea></td>
      </tr>
      <tr>
        <td>Then submit the form</td>
        <td><input type="checkbox" id="auto-submit-auto-login"></td>
      </tr>
    </tbody>
    <thead>
      <tr>
        <th colspan="2"><span>Panel Styling</span></th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td colspan="2"><textarea rows="4" id="cmd-style" placeholder="style panel with CSS; e.g.: body {background: #fff !important;}"></textarea></td>
      </tr>
    </tbody>
    <thead>
      <tr>
        <th colspan="2"><span>Save Dialog Styling</span></th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td colspan="2"><textarea rows="4" id="save-dialog-style"></textarea></td>
      </tr>
    </tbody>
    <thead>
      <tr>
        <th colspan="2"><span>Misc</span></th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td colspan="2">
          <div style="display: flex">
            <label for="embedded" style="flex: 1">Use an embedded iframe to display credentials</label>
            <input type="checkbox" id="embedded">
          </div>
        </td>
      </tr>
      <tr>
        <td colspan="2">
          <div style="display: flex">
            <label for="faqs" style="flex: 1">Open FAQs on updates</label>
            <input type="checkbox" id="faqs">
          </div>
        </td>
      </tr>
      <tr style="display: none;">
        <td>Display format</td>
        <td><input type="text" id="format"></td>
      </tr>
    </tbody>
  </table>
  <p>
    <button id="reset">Factory Reset</button>
    <button id="support">Support Development</button>
    <button id="save">Save</button>
    <span id="toast"></span>
  </p>
  <p>
    1: For the native messaging to work, the id of this extension (<span id="id"></span>) needs to be appended to the KeePassXC manifest file of your browser. For Google Chrome browser, the manifest is located at the following paths. For other browsers, the path format is the same. Just the name of the browser changes.
    <ul>
      <li>Windows: <code>C:\Users\[username]\AppData\Local\keepassxc\org.keepassxc.keepassxc_browser_x.json</code></li>
      <li>OS X: <code>~/Library/Application Support/Google/Chrome/NativeMessagingHosts/org.keepassxc.keepassxc_browser.json</code></li>
      <li>Linux: <code>~/.config/google-chrome/NativeMessagingHosts/org.keepassxc.keepassxc_browser.json</code></li>
    </ul>
  </p>

  <script src="index.js"></script>
  </body>
</html>
